<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>방학중 비상시근로자 방학중 근무로 인한 영향 계산기</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <header class="site-header">
    <div class="shell">
      <h1>방학중 비상시근로자 방학중 근무로 인한 영향 계산기</h1>
      <p class="sub">
        ·출근율 산정, 연차 유급휴가 추가 부여 일수, 사회보험료 증가분, 연말정산 관련 등 
      </p>
    </div>
  </header>

  <main class="shell">
    <!-- 1. 기본 정보 -->
    <section class="card">
      <h2>1. 기본 정보</h2>
      <div class="grid two">
        <label>
          학년도 (예: 2025 → 2025.3.1.~2026.2.말 근무분)
          <input type="number" id="year" value="2025" />
        </label>
        <label>
          1일 소정 근무시간 (시간 단위)
          <input type="number" id="paidHoursPerDay" value="8" step="0.1" />
        </label>

        <label>
          최초 임용일
          <input type="date" id="startDate" />
        </label>
        <div>
          <strong>근속연수 (해당 학년도 3.1. 기준)</strong><br />
          <span id="serviceYears">0</span> 년
        </div>

        <label>
          직종 구분 (수기 입력)
          <input type="text" id="jobMemo" placeholder="예: 조리실무사" />
        </label>
        <label>
          비고 (수기 입력)
          <input type="text" id="noteMemo" placeholder="예: 학교 근무자" />
        </label>
      </div>
      <p class="muted">
        ·학년도 입력하면 토요일 제외 일수 자동 산정됨.<br />
        ·최초 임용일 입력하면 해당 학년도 3.1. 기준 근속연수 및 기본 연차일수 자동 산출함.<br />
        ·휴게시간 제외 1일 소정 근로시간: 8시간, 6시간, 5시간 등.
      </p>
      <p class="note" id="academicExplain">-</p>
    </section>

    <!-- 2. 달력 기준 근무일수 (토요일 제외) -->
    <section class="card">
      <h2>2. 달력상 총 일수 (토요일 제외)</h2>
      <p>
        ·상단에 입력한 학년도 기준(3.1.~다음해 2.말)으로 토요일을 제외한 달력상 총 일수 자동 산출
      </p>
      <div class="grid two">
        <div>
          <strong>달력상 총 일수</strong><br />
          <span id="calendarTotalDays">-</span> 일
        </div>
        <div>
          <strong>토요일 제외 일수</strong><br />
          <span id="calendarDaysNoSat">-</span> 일
        </div>
      </div>
    </section>

    <!-- 3. 제외기간 입력 (병가, 휴직 등) -->
    <section class="card">
      <h2>3. 제외기간 입력 (병가·휴직 등)</h2>
      <p class="muted">
        ·2025년 교육공무직 등 업무편람 참고 <br />
        ·사유와 무관하게 제외기간은 총 일수로 합산됨. 
      </p>

      <div class="table-wrap">
        <table class="grid-table">
          <thead>
            <tr>
              <th style="width: 40%;">제외 사유</th>
              <th style="width: 30%;">제외 일수 (토요일 제외)</th>
              <th style="width: 30%;">삭제</th>
            </tr>
          </thead>
          <tbody id="excludeBody"></tbody>
        </table>
      </div>
      <button type="button" class="btn" id="addExcludeBtn">행 추가</button>

      <div class="grid two" style="margin-top: 16px;">
        <div>
          <strong>제외기간 일수 합계</strong><br />
          <span id="excludeTotalDays">0</span> 일
        </div>
        <div>
          <strong>제외기간 반영 후 근무 가능 일수</strong><br />
          <span id="workableDays">-</span> 일
        </div>
      </div>
    </section>

    <!-- 4. 방학 기간(여름·겨울) 및 학기중 근무일수 -->
    <section class="card">
      <h2>4. 방학 기간 입력 및 학기중 근무일수 산정</h2>
      <p class="muted">
        ·여름방학 및 겨울방학 시작·종료일자 입력.<br />
        ·방학기간 중 토요일 제외 일수 계산하고, 학기중 근무일수 및 출근율(참고용) 계산함.
      </p>

      <h3>4-1. 여름방학 기간</h3>
      <div class="grid two">
        <label>
          여름방학 시작일자
          <input type="date" id="vac1Start" />
        </label>
        <label>
          여름방학 종료일자
          <input type="date" id="vac1End" />
        </label>
      </div>

      <div class="grid two" style="margin-top: 8px;">
        <div>
          <strong>여름방학 일수 (토요일 제외)</strong><br />
          <span id="vac1DaysNoSat">0</span> 일
        </div>
      </div>

      <h3 style="margin-top: 16px;">4-2. 겨울방학 기간</h3>
      <div class="grid two">
        <label>
          겨울방학 시작일자
          <input type="date" id="vac2Start" />
        </label>
        <label>
          겨울방학 종료일자
          <input type="date" id="vac2End" />
        </label>
      </div>

      <div class="grid two" style="margin-top: 8px;">
        <div>
          <strong>겨울방학 일수 (토요일 제외)</strong><br />
          <span id="vac2DaysNoSat">0</span> 일
        </div>
      </div>

      <h3 style="margin-top: 16px;">4-3. 방학 일수로 학기중 일수 계산하기</h3>
      <div class="grid three" style="margin-top: 8px;">
        <div>
          <strong>여름·겨울 방학 일수 합계 (토요일 제외)</strong><br />
          <span id="vacDaysNoSat">0</span> 일
        </div>
        <div>
          <strong>학기중 근무일수 (토요일 제외)</strong><br />
          <span id="termDaysNoSat">-</span> 일
        </div>
        <div>
          <strong>학기중 출근율 (참고용)</strong><br />
          <span id="termAttendanceRate">-</span> %
        </div>
      </div>

      <div class="grid two" style="margin-top: 8px;">
        <label>
          방학 중 실제 유급 근무일수 (토요일 제외, 예: 방학 10일 근무 시 10)
          <input type="number" id="vacWorkDays" value="0" step="0.1" />
        </label>
        <div>
          <strong>출근율 80% 기준 판정</strong><br />
          <span id="attendance80Judge">-</span>
        </div>
      </div>
    </section>

    <!-- 5. 방학 중 근무 보수 입력 (항목별, 비과세 체크) -->
    <section class="card">
      <h2>5. 방학중 근무로 인한 보수 지급 내역</h2>
      <p class="muted">
        ·방학중 비상시근로자의 방학 근무로 인해 발생한 보수 항목별로 입력.<br />
        ·비과세 체크 시 사회보험료 및 (지방)소득세 계산에서 자동 제외됨.
      </p>

      <div class="table-wrap">
        <table class="grid-table">
          <thead>
            <tr>
              <th style="width: 40%;">보수 지급 항목명</th>
              <th style="width: 25%;">지급 금액 (원 단위)</th>
              <th style="width: 15%;">비과세 금액 여부</th>
              <th style="width: 20%;">삭제</th>
            </tr>
          </thead>
          <tbody id="wageBody"></tbody>
        </table>
      </div>
      <button type="button" class="btn" id="addWageBtn">행 추가</button>

      <div class="grid three" style="margin-top: 16px;">
        <div>
          <strong>방학근무 보수 총액</strong><br />
          <span id="wageTotal">0</span> 원
        </div>
        <div>
          <strong>과세 대상 금액 합계</strong><br />
          <span id="wageTaxable">0</span> 원
        </div>
        <div>
          <strong>비과세 금액 합계</strong><br />
          <span id="wageNonTaxable">0</span> 원
        </div>
      </div>
    </section>

    <!-- 6. 전년도 방학 근무 관련(자동 계산 + 연차 추가 입력) -->
    <section class="card">
      <h2>6. 전년도 방학근무 관련</h2>
      <p class="muted">
        ·전년도 학년도도 방학 일자 입력하면 자동 계산됨
      </p>

      <div class="grid three">
        <div>
          <strong>전년도 학년도</strong><br />
          <span id="prevYearLabel">-</span> 년
        </div>
        <div>
          <strong>전년도 달력상 총 일수</strong><br />
          <span id="prevYearTotalDays">-</span> 일
        </div>
        <div>
          <strong>전년도 달력상 총 일수 (토요일 제외)</strong><br />
          <span id="prevYearDaysNoSat">-</span> 일
        </div>
      </div>

      <h3 style="margin-top: 12px;">6-1. 전년도 여름방학 기간</h3>
      <div class="grid two">
        <label>
          전년도 여름방학 시작일자
          <input type="date" id="prevVac1Start" />
        </label>
        <label>
          전년도 여름방학 종료일자
          <input type="date" id="prevVac1End" />
        </label>
      </div>
      <div class="grid two" style="margin-top: 8px;">
        <div>
          <strong>전년도 여름방학 일수 (토요일 제외)</strong><br />
          <span id="prevVac1DaysNoSat">0</span> 일
        </div>
      </div>

      <h3 style="margin-top: 16px;">6-2. 전년도 겨울방학 기간</h3>
      <div class="grid two">
        <label>
          전년도 겨울방학 시작일자
          <input type="date" id="prevVac2Start" />
        </label>
        <label>
          전년도 겨울방학 종료일자
          <input type="date" id="prevVac2End" />
        </label>
      </div>
      <div class="grid two" style="margin-top: 8px;">
        <div>
          <strong>전년도 겨울방학 일수 (토요일 제외)</strong><br />
          <span id="prevVac2DaysNoSat">0</span> 일
        </div>
      </div>

      <h3 style="margin-top: 16px;">6-3. 전년도 학기 총 일수 및 출근율</h3>
      <div class="grid three" style="margin-top: 8px;">
        <div>
          <strong>전년도 방학 일수 합계 (토요일 제외)</strong><br />
          <span id="prevVacDaysNoSat">0</span> 일
        </div>
        <div>
          <strong>전년도 학기 총 일수 (토요일 제외)</strong><br />
          <span id="prevTermDaysNoSat">0</span> 일
        </div>
        <div>
          <strong>전년도 출근율 </strong><br />
          <span id="prevAttendanceRate">-</span> %
        </div>
      </div>

      <div class="grid two" style="margin-top: 16px;">
        <label>
          전년도 방학근무로 추가된 연차일수 (0~3일 중 직접 입력)
          <input type="number" id="annualExtraFromPrevVac" value="0" step="0.1" />
        </label>
        <p class="muted">
          ·우선 참고용으로만 사용 (정확한 법령 검증은 별도 필요)
        </p>
      </div>
    </section>

    <!-- 7. 연차휴가 사용 / 연차미사용수당 -->
    <section class="card">
      <h2>7. 연차 유급휴가 일수 및 연차 미사용 수당</h2>
      <p class="muted">
        ·연차 일수 총 합산 내역: 기본 연차일수 +계속근로 가산일수 +전년도 방학근무로 추가된 일수<br />
        ·최초 임용일자 입력하면 기본 연차일수 산출됨.<br />
        ·수기입력한 기본 연차일수가 0보다 크면 그 값을 우선 사용.
      </p>

      <div class="grid three">
        <label>
          기본 연차일수 
          <input type="number" id="annualBase" value="0" step="0.1" />
        </label>
        <label>
          계속근로 가산일수
          <input type="number" id="annualExtraSeniority" value="0" step="0.1" />
        </label>
        <div>
          <strong>연차 유급휴가 총 부여 일수</strong><br />
          <span id="annualTotalDays">-</span> 일
        </div>
      </div>

      <div class="grid three" style="margin-top: 8px;">
        <div>
          <strong>최초 임용일에 따른 기본 연차일수 (자동 계산)</strong><br />
          <span id="autoAnnualBase">-</span> 일
        </div>
      </div>

      <h3>연차 사용 내역 입력</h3>
      <div class="grid three">
        <label>
          연차 사용 내역 (일 단위)
          <input type="number" id="annualUsedFull" value="0" step="0.1" />
        </label>
        <label>
          반일연가 사용 내역
          <input type="number" id="annualUsedHalf" value="0" step="0.1" />
        </label>
        <label>
          지각·외출·조퇴 합계 (시간 단위)
          <input type="number" id="annualUsedHours" value="0" step="0.1" />
        </label>
      </div>

      <div class="grid three" style="margin-top: 16px;">
        <div>
          <strong>연차 사용 일수 (환산)</strong><br />
          <span id="annualUsedDaysConv">-</span> 일
        </div>
        <div>
          <strong>연차 미사용 일수</strong><br />
          <span id="annualUnusedDays">-</span> 일
        </div>
        <div>
          <strong>연차 미사용 수당</strong><br />
          <span id="annualUnusedPay">0</span> 원
        </div>
      </div>
      <p class="muted">
        ·계산식: 연차 미사용 일수 × 통상임금(시간당) × 1일 소정 근무시간<br />
        ·통상임금은 아래 8번 항목 입력 시 자동 산출됨.
      </p>
    </section>

    <!-- 8. 통상임금 계산  -->
    <section class="card">
      <h2>8. 통상임금 계산 (교육공무직 통상임금 변경사항 반영)</h2>
      <p class="muted">
        ·통상임금 계산식 참고<br />
        ·소정 근로시간에 따라 자동 계산: 전일제, 6시간, 5시간 등
      </p>

      <div class="grid three">
        <div class="worktype-group">
          <strong>소정 근로시간 유형 선택</strong><br />
          <label>
            <input type="checkbox" class="workType" value="full" checked />
            전일제 (8시간)
          </label><br />
          <label>
            <input type="checkbox" class="workType" value="part5" />
            단시간 (5시간)
          </label><br />
          <label>
            <input type="checkbox" class="workType" value="part6" />
            단시간 (6시간)
          </label>
        </div>
        <div>
          <label>
            기본급 (월 단위)
            <input type="number" id="owBasic" value="2066000" step="1000" />
          </label>
          <label>
            근속수당 (월 단위)
            <input type="number" id="owSeniority" value="40000" step="1000" />
          </label>
          <label>
            정액급식비 (월 단위)
            <input type="number" id="owMeal" value="150000" step="1000" />
          </label>
          <label>
            직무관련수당 (월 단위)
            <input type="number" id="owJob" value="0" step="1000" />
          </label>
        </div>
        <div>
          <label>
            정기상여금 (연간 총액)
            <input type="number" id="owBonusYear" value="1000000" step="1000" />
          </label>
          <label>
            명절휴가비 (연간 총액)
            <input type="number" id="owHolidayYear" value="1700000" step="1000" />
          </label>
          <div style="margin-top: 8px;">
            <strong>월 통상임금</strong><br />
            <span id="owMonthly">0</span> 원
          </div>
          <div style="margin-top: 8px;">
            <strong>시간당 통상임금</strong><br />
            <span id="owHourly">0</span> 원
          </div>
        </div>
      </div>
      <p class="muted">
        ·전일제: (기본급+근속수당+정액급식비+직무관련수당+(정기상여금/12)+(명절휴가비/12)) ÷ 209시간 <br />
        ·6시간: (기본급+근속수당+정액급식비+(정기상여금/12)+(명절휴가비/12)) ÷ 156시간 <br />
        ·5시간: (기본급+근속수당+정액급식비+(정기상여금/12)+(명절휴가비/12)) ÷ 130시간 <br />
      </p>
    </section>

    <!-- 9. 사회보험료 영향 -->
    <section class="card">
      <h2>9. 사회보험료 증가분</h2>
      <p class="muted">
        ·방학근무 과세 대상 보수와 연차 미사용 수당 등으로 인한 상승분 (대략 추정치)<br />
      </p>

      <div class="grid three">
        <div>
          <strong>사회보험 산정 기준금액</strong><br />
          <span id="siBase">0</span> 원
        </div>
        <label>
          연차 미사용 수당도 연간 보수총액 산정 내역에 포함
          <input type="checkbox" id="includeUnusedIn4ins" checked />
        </label>
        <label>
          비고 (메모용)
          <input type="text" id="siMemo" />
        </label>
      </div>

      <h3>사회보험료 요율 설정</h3>
      <div class="grid three">
        <div>
          <h4>국민연금</h4>
          <label>기관부담율(%) <input type="number" id="npRateEmp" value="4.5" step="0.01" /></label>
          <label>개인부담율(%) <input type="number" id="npRateInd" value="4.5" step="0.01" /></label>
        </div>
        <div>
          <h4>건강보험</h4>
          <label>기관부담율(%) <input type="number" id="hiRateEmp" value="3.545" step="0.01" /></label>
          <label>개인부담율(%) <input type="number" id="hiRateInd" value="3.545" step="0.01" /></label>
        </div>
        <div>
          <h4>고용·산재보험</h4>
          <label>고용보험 기관부담율(%) <input type="number" id="uiRateEmp" value="1.75" step="0.01" /></label>
          <label>고용보험 개인부담율(%) <input type="number" id="uiRateInd" value="0.9" step="0.01" /></label>
          <label>산재보험 기관부담율(%) <input type="number" id="ciRateEmp" value="0.966" step="0.01" /></label>
        </div>
      </div>

      <div class="grid three" style="margin-top: 16px;">
        <div>
          <strong>사회보험료 기관부담금 합계</strong><br />
          <span id="siEmpTotal">0</span> 원
        </div>
        <div>
          <strong>사회보험료 개인부담금 합계</strong><br />
          <span id="siIndTotal">0</span> 원
        </div>
        <div>
          <strong>사회보험료 총 합계 (기관+개인)</strong><br />
          <span id="siGrandTotal">0</span> 원
        </div>
      </div>
    </section>

    <!-- 10. 연말정산 세금 영향 -->
    <section class="card">
      <h2>10. 연말정산 (지방)소득세 영향 (대충 추정값)</h2>
      <p class="muted">
        ·산정식: (방학근무로 인한 과세 대상 금액 + 연차 미사용 수당) × 세율<br />
        ·누진세, 각종 공제 등은 반영하지 않은 러프한 추정치
      </p>

      <div class="grid three">
        <div>
          <strong>과세 대상 금액</strong><br />
          <span id="taxBase">0</span> 원
        </div>
        <label>
          평균 소득세율(%) (누진·공제 감안한 체감세율 입력)
          <input type="number" id="avgTaxRate" value="6" step="0.1" />
        </label>
        <div>
          <strong>지방 소득세율 (소득세의 10%)</strong><br />
          10% (고정)
        </div>
      </div>

      <div class="grid three" style="margin-top: 16px;">
        <div>
          <strong>추가 발생 소득세</strong><br />
          <span id="incomeTax">0</span> 원
        </div>
        <div>
          <strong>추가 발생 지방소득세</strong><br />
          <span id="localTax">0</span> 원
        </div>
        <div>
          <strong>추가 발생 세금 합계</strong><br />
          <span id="taxTotal">0</span> 원
        </div>
      </div>
    </section>

    <!-- 11. 종합 요약 -->
    <section class="card">
      <h2>11. 결과 모음</h2>
      <p>
        ·계산 결과 한눈에 보기 <br/> 
        ·귀찮은 건 계산기한테 다 떠넘겨버리기 
      </p>

      <div class="result-grid">
        <div class="result-item">
          <div class="result-label strong">연차 일수 및 연차 미사용 수당</div>
          <div class="result-value">
            연차 부여 일수: <strong><span id="sumAnnualTotal">-</span> 일</strong><br />
            연차 사용 일수: <strong><span id="sumAnnualUsed">-</span> 일</strong><br />
            연차 미사용 일수: <strong><span id="sumAnnualUnused">-</span> 일</strong><br />
            연차 미사용 수당: <strong><span id="sumAnnualUnusedPay">0</span> 원</strong>
          </div>
        </div>
        <div class="result-item">
          <div class="result-label strong">통상임금 · 방학근무 보수</div>
          <div class="result-value">
            방학근무 보수: <strong><span id="sumWageTotal">0</span> 원</strong><br />
            과세 대상 금액: <strong><span id="sumWageTaxable">0</span> 원</strong><br />
            시간당 통상임금: <strong><span id="sumOwHourly">0</span> 원</strong><br />
            1일 소정 근무시간: <strong><span id="sumPaidHoursPerDay">0</span> 시간</strong>
          </div>
        </div>
        <div class="result-item">
          <div class="result-label strong">추가 발생 사회보험료 및 세금</div>
          <div class="result-value">
            사회보험료 기관부담금: <strong><span id="sumSiEmp">0</span> 원</strong><br />
            사회보험료 개인부담금: <strong><span id="sumSiInd">0</span> 원</strong><br />
            소득세: <strong><span id="sumIncomeTax">0</span> 원</strong><br />
            지방소득세: <strong><span id="sumLocalTax">0</span> 원</strong>
          </div>
        </div>
      </div>

      <p class="muted">
        ·2025년 교육공무직 업무 편람, 교육공무직 보수 등 업무처리 요령, 통상임금 산정 변경 내역 안내 참고
      </p>
    </section>

    <p>
      <a class="btn" href="../index.html">메인으로 돌아가기</a>
    </p>
  </main>

  <footer style="text-align:center; margin-top:15px; color:#444;">
    제작자: 씩씩하고 귀여운 고주무관 · Contact: edusproutcomics@naver.com · 개인적인 토이 프로젝트입니다.
  </footer>

  <script src="script.js"></script>
</body>
</html>