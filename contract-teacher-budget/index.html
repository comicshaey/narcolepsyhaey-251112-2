<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light" />
  <title>계약제교원 예산 신청 계산기</title>
  <link rel="icon" href="/static/favicon.ico" />
  <link rel="stylesheet" href="/static/style.css" />
  <script src="/static/disable-copy.js"></script>
</head>
<body>
  <!-- 상단 헤더: 다른 계산기랑 통일 -->
  <header class="site-header">
    <div class="shell">
      <h1>계약제교원 예산 신청 계산기</h1>
      <p class="sub">
        학기 중 4시간, 방학 8시간 근무하는 계약제교원의 인건비를<br />
        기간별 월 인건비와 근무일수로 일할계산하는 도구입니다.
      </p>
      <p class="note">
        ※ 이 계산기는 편의를 위한 참고용입니다. 실제 예산·지급 시에는 관련 법령 및 내부 기준을 반드시 다시 확인하세요.
      </p>
    </div>
  </header>

  <main class="shell">

    <!-- 1. 근무 요일 및 기간 입력 -->
    <section class="card">
      <h2>1. 근무 요일 및 기간 입력</h2>

      <div class="form-row">
        <label>
          근무 요일 (복수 선택)
          <div class="row gap" style="flex-wrap:wrap; margin-top:4px;">
            <label style="font-weight:400; font-size:13px;">
              <input type="checkbox" class="weekday" value="1" checked /> 월
            </label>
            <label style="font-weight:400; font-size:13px;">
              <input type="checkbox" class="weekday" value="2" checked /> 화
            </label>
            <label style="font-weight:400; font-size:13px;">
              <input type="checkbox" class="weekday" value="3" checked /> 수
            </label>
            <label style="font-weight:400; font-size:13px;">
              <input type="checkbox" class="weekday" value="4" checked /> 목
            </label>
            <label style="font-weight:400; font-size:13px;">
              <input type="checkbox" class="weekday" value="5" checked /> 금
            </label>
            <label style="font-weight:400; font-size:13px;">
              <input type="checkbox" class="weekday" value="6" /> 토
            </label>
            <label style="font-weight:400; font-size:13px;">
              <input type="checkbox" class="weekday" value="0" /> 일
            </label>
          </div>
        </label>
        <p class="hint">※ 아무것도 선택하지 않으면 자동으로 월~금 기준으로 계산합니다.</p>
      </div>

      <div class="grid two">
        <div>
          <h3 style="margin:4px 0 6px; font-size:15px;">학기 중 기간 (4시간 근무)</h3>
          <div class="form-row">
            <label>
              학기 중 시작일
              <input type="date" id="semesterStart" />
            </label>
          </div>
          <div class="form-row">
            <label>
              학기 중 종료일
              <input type="date" id="semesterEnd" />
            </label>
          </div>
        </div>

        <div>
          <h3 style="margin:4px 0 6px; font-size:15px;">방학 기간 (8시간 근무)</h3>
          <div class="form-row">
            <label>
              여름방학 시작일
              <input type="date" id="vacation1Start" />
            </label>
          </div>
          <div class="form-row">
            <label>
              여름방학 종료일
              <input type="date" id="vacation1End" />
            </label>
          </div>
          <div class="form-row">
            <label>
              겨울방학 시작일
              <input type="date" id="vacation2Start" />
            </label>
          </div>
          <div class="form-row">
            <label>
              겨울방학 종료일
              <input type="date" id="vacation2End" />
            </label>
          </div>
          <p class="hint">
            ※ 여름·겨울 방학 일수가 서로 달라도, 방학 기준 월 인건비는 하나로 합산해서 사용합니다.
          </p>
        </div>
      </div>
    </section>

    <!-- 2. 월 인건비 입력 -->
    <section class="card">
      <h2>2. 월 인건비(기본급 + 각종 수당) 입력</h2>
      <p class="hint">
        항목별로 <b>학기 중 기준 월액(4시간)</b>과 <b>방학 중 기준 월액(8시간)</b>을 입력하세요.<br />
        (예: 본봉, 교직수당, 교원연구비, 정근수당가산금, 가족수당, 정액급식비 등)
      </p>

      <div class="table-wrap" style="margin-top:10px;">
        <table>
          <thead>
            <tr>
              <th style="width:40%;">항목명</th>
              <th style="width:30%;">학기 중 월액(원, 4시간)</th>
              <th style="width:30%;">방학 중 월액(원, 8시간)</th>
            </tr>
          </thead>
          <tbody id="allowance-rows">
            <tr class="allowance-row">
              <td><input type="text" class="allow-name" placeholder="예: 본봉" /></td>
              <td><input type="number" class="allow-semester" min="0" step="1" placeholder="0" /></td>
              <td><input type="number" class="allow-vacation" min="0" step="1" placeholder="0" /></td>
            </tr>
            <tr class="allowance-row">
              <td><input type="text" class="allow-name" placeholder="예: 교직수당" /></td>
              <td><input type="number" class="allow-semester" min="0" step="1" placeholder="0" /></td>
              <td><input type="number" class="allow-vacation" min="0" step="1" placeholder="0" /></td>
            </tr>
            <tr class="allowance-row">
              <td><input type="text" class="allow-name" placeholder="예: 교원연구비" /></td>
              <td><input type="number" class="allow-semester" min="0" step="1" placeholder="0" /></td>
              <td><input type="number" class="allow-vacation" min="0" step="1" placeholder="0" /></td>
            </tr>
            <tr class="allowance-row">
              <td><input type="text" class="allow-name" placeholder="예: 정근수당가산금" /></td>
              <td><input type="number" class="allow-semester" min="0" step="1" placeholder="0" /></td>
              <td><input type="number" class="allow-vacation" min="0" step="1" placeholder="0" /></td>
            </tr>
            <tr class="allowance-row">
              <td><input type="text" class="allow-name" placeholder="예: 정액급식비" /></td>
              <td><input type="number" class="allow-semester" min="0" step="1" placeholder="0" /></td>
              <td><input type="number" class="allow-vacation" min="0" step="1" placeholder="0" /></td>
            </tr>
          </tbody>
        </table>
      </div>

      <button type="button" class="btn" id="addRowBtn">+ 항목 추가</button>
      <p class="hint">※ 월 인건비는 1개월 기준(보통 3개월 평균)으로 입력하면 됩니다.</p>
    </section>

    <!-- 3. 월 기준 근무일수 -->
    <section class="card">
      <h2>3. 월 기준 근무일수 입력</h2>
      <p class="hint">
        내부 기준에 따라 사용하는 “1개월 기준 근무일수”를 입력하세요.<br />
        (예: 월~금 주5일 근무, 학기 중 20일, 방학 중 20일 등)
      </p>
      <div class="grid two">
        <div class="form-row">
          <label>
            학기 중 월 기준 근무일수(4시간)
            <input type="number" id="semesterBaseDays" min="1" step="1" placeholder="예: 20" />
          </label>
        </div>
        <div class="form-row">
          <label>
            방학 중 월 기준 근무일수(8시간)
            <input type="number" id="vacationBaseDays" min="1" step="1" placeholder="예: 20" />
          </label>
        </div>
      </div>
    </section>

    <!-- 4. 기본 일할 계산 결과 -->
    <section class="card">
      <h2>4. 연간 기준 일할계산</h2>
      <button type="button" class="btn" id="calcBtn">학기·방학 전체 계산하기</button>
      <p id="errorBox" class="error"></p>

      <div class="result-grid">
        <div class="result-item">
          <div class="result-label strong">학기 중 (4시간)</div>
          <div class="result-label">월 총액</div>
          <div class="result-value" id="semMonthTotal">0원</div>
          <div class="result-label" style="margin-top:6px;">월 기준 근무일수</div>
          <div class="result-value" id="semBaseDays">0일</div>
          <div class="result-label" style="margin-top:6px;">1일 단가</div>
          <div class="result-value" id="semDailyRate">0원</div>
          <div class="result-label" style="margin-top:6px;">실제 근무일수</div>
          <div class="result-value" id="semRealDays">0일</div>
          <div class="result-label" style="margin-top:6px;">학기 중 인건비 합계</div>
          <div class="result-value" id="semTotal">0원</div>
        </div>

        <div class="result-item">
          <div class="result-label strong">방학 중 (8시간, 여름+겨울)</div>
          <div class="result-label">월 총액</div>
          <div class="result-value" id="vacMonthTotal">0원</div>
          <div class="result-label" style="margin-top:6px;">월 기준 근무일수</div>
          <div class="result-value" id="vacBaseDays">0일</div>
          <div class="result-label" style="margin-top:6px;">1일 단가</div>
          <div class="result-value" id="vacDailyRate">0원</div>
          <div class="result-label" style="margin-top:6px;">여름방학 근무일수</div>
          <div class="result-value" id="vac1RealDays">0일</div>
          <div class="result-label" style="margin-top:6px;">겨울방학 근무일수</div>
          <div class="result-value" id="vac2RealDays">0일</div>
          <div class="result-label" style="margin-top:6px;">방학 전체 근무일수</div>
          <div class="result-value" id="vacRealDays">0일</div>
          <div class="result-label" style="margin-top:6px;">방학 중 인건비 합계</div>
          <div class="result-value" id="vacTotal">0원</div>
        </div>

        <div class="result-item result-item-wide">
          <div class="result-label strong">전체 인건비 합계 (학기 중 + 방학 중)</div>
          <div class="result-total" id="grandTotal">0원</div>
          <div class="result-sub">
            원단위까지 계산 후, 10원 단위로 버림 처리한 금액입니다.
          </div>
        </div>
      </div>
    </section>

    <!-- 5. 분기 / 월별 신청액 계산용 구간 -->
    <section class="card">
      <h2>5. 분기 / 월별 신청액 계산용 기간 설정</h2>
      <p class="hint">
        1분기(3~5월), 2분기(6~8월)처럼 실제 학사일정에 맞는 기간을 나눠서 입력하세요.<br />
        예: 7월 학기중 / 7월 방학중 / 8월 방학중 / 8월 학기중 등으로 행을 쪼개서 사용할 수 있습니다.
      </p>

      <div class="form-row">
        <label>
          분기/기간 이름 (표시용)
          <input type="text" id="quarterName" placeholder="예: 2025년 4분기 (유치원 시기간제)" />
        </label>
      </div>

      <div class="segment-header">
        <div>기간명</div>
        <div>구분</div>
        <div>실제 근무일수</div>
        <div>비고</div>
      </div>
      <div id="segment-rows">
        <div class="segment-row">
          <input type="text" class="seg-name" value="3월" />
          <select class="seg-type">
            <option value="sem">학기 중 (4시간)</option>
            <option value="vac">방학 중 (8시간)</option>
          </select>
          <input type="number" class="seg-days" min="0" step="1" placeholder="예: 20" />
          <input type="text" class="seg-note" placeholder="예: 3월 전 기간 학기중" />
        </div>
        <div class="segment-row">
          <input type="text" class="seg-name" value="4월" />
          <select class="seg-type">
            <option value="sem">학기 중 (4시간)</option>
            <option value="vac">방학 중 (8시간)</option>
          </select>
          <input type="number" class="seg-days" min="0" step="1" placeholder="예: 20" />
          <input type="text" class="seg-note" placeholder="예: 4월 전 기간 학기중" />
        </div>
        <div class="segment-row">
          <input type="text" class="seg-name" value="5월" />
          <select class="seg-type">
            <option value="sem">학기 중 (4시간)</option>
            <option value="vac">방학 중 (8시간)</option>
          </select>
          <input type="number" class="seg-days" min="0" step="1" placeholder="예: 20" />
          <input type="text" class="seg-note" placeholder="예: 5월 전 기간 학기중" />
        </div>
      </div>

      <button type="button" class="btn" id="addSegmentBtn">+ 기간 행 추가</button>
      <p class="hint">
        ※ 학사일정이 바뀌어서 일할계산을 다시 해야 할 때, 여기의 근무일수만 수정해서<br />
        정당신청액을 다시 뽑아볼 수 있습니다.
      </p>
    </section>

    <!-- 6. 분기 정당신청액 계산 -->
    <section class="card">
      <h2>6. 분기 정당신청액 계산 (급여 + 기관부담금)</h2>
      <p class="hint">
        위 1~3번 입력을 그대로 사용해서, 설정한 기간(분기)의 정당신청액을 계산합니다.<br />
        사회보험 기관부담금은 1분기 산출기초 양식 기준 비율(건강 3.545%, 연금 4.5%, 고용 1.75%, 산재 0.966%, 노인장기요양 12.95%)을 합산해 사용합니다.
      </p>

      <button type="button" class="btn" id="calcQuarterBtn">분기 금액 계산하기</button>
      <p id="qErrorBox" class="error"></p>

      <div class="result-grid">
        <div class="result-item">
          <div class="result-label strong">
            분기 요약: <span id="qNameDisplay">-</span>
          </div>
          <div class="result-label" style="margin-top:6px;">학기 중 급여 합계</div>
          <div class="result-value" id="qSemWage">0원</div>
          <div class="result-label" style="margin-top:6px;">방학 중 급여 합계</div>
          <div class="result-value" id="qVacWage">0원</div>
          <div class="result-label" style="margin-top:6px;">급여 합계(학기중+방학중)</div>
          <div class="result-value" id="qWageTotal">0원</div>
          <div class="result-label" style="margin-top:6px;">기관부담금 합계</div>
          <div class="result-value" id="qEmployerTotal">0원</div>
        </div>

        <div class="result-item result-item-wide">
          <div class="result-label strong">분기 정당신청액</div>
          <div class="result-total" id="qGrandFinal">0원</div>
          <div class="result-sub">
            분기 총액(급여+기관부담금)을 원단위로 계산 후, 10원 단위로 버림한 금액입니다.<br />
            부족분 보정이 필요하면, 이전 분기 신청액(또는 실제 집행액)과의 차액을 따로 계산해 조정하면 됩니다.
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <p class="note small">
        ※ 내부 검토용으로만 사용하세요. 계산 결과는 실제 인건비 집행 및 예산 요구 시 담당자 검토를 반드시 거쳐야 합니다.
      </p>
    </section>

    <a class="btn" href="/index.html">메인으로 돌아가기</a>
  </main>

  <footer style="text-align:center; margin-top:15px; color:#444;">
    제작자: 씩씩하고 귀여운 고주무관 · Contact: edusproutcomics@naver.com · 개인적인 토이 프로젝트입니다.
  </footer>

  <script src="/static/global-loader.js?v=1"></script>
  <script src="script.js"></script>
</body>
</html>
